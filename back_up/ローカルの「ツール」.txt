#contents

* 概要
Automatic1111の拡張機能以外で動作するローカル用のプラグインやDCCツールもではじめたのでページを作成しました。

* アップローダー

** Huggingface Hub

https://huggingface.co/models

- モデル用なら最強
- Private設定も出来るけど基本的には公開される(検索対象になる)

** ギガファイル便

https://gigafile.nu/

- 遅いのでモデルには向かない。
- 日数制限があって消える。

** MEGA

https://mega.io/

- ダウンロード5GB制限がある。
- 速度はわりといい。

** Civitai

https://civitai.com/

- いろんなモデルがある
- ダウンロードに会員登録が必要

** kioskloud

https://kioskloud.xyz/

kioskloudがオススメやけど最初が面倒か

** pixeldrain

https://pixeldrain.com/

海外ではこのアップローダーなんかモデル配布で使われてたりするやな
制限は週に20GBまでだから問題ないだろう 


* 任意の.ckptと.safetensorsを相互変換するやつ_v5

最新版はこれ
https://colab.research.google.com/drive/1KUz8TLKRtRzO7GyJNzQsE_wgD-TzDoqU

改良点
- 破損した CLIP を修復する機能を追加しました
- VAE をモデルにマージする機能を追加しました
- モデルを prune して更に軽量化する機能を追加しました

これらの機能を利用して Anything-V3.0.ckpt を Anything-V3.0-pruned-fp16.safetensors に変換することができます（生成結果は本家と完全に一致します）


: 巨大モデル対応 | 標準の ~12GB ランタイムの場合 ~10GB までのモデルが変換可能や
: fp16化対応 | fp16 として保存することで RAM とストレージを節約 (学習には不向きやけど生成画像は同一)
: 簡単DL | Drive や&#129303;からカンマ区切りで任意個のモデルを取得できる
: 簡単Save | 直接 Google Drive に保存可能
: SD2.x対応 | SD2.x系モデル用の yaml も同時に {ckpt 用 / safetensors 用 / それぞれの fp16 版用} へ変換できる

[[ここ>>https://colab.research.google.com/drive/1SIJaNrt-LzBWgDY44vPvuvUlwnjJ9a5-]]にアクセスしてログインするだけで使えるで
中身を改造したい場合は、リンク先画面上部の【ファイル】>【ドライブにコピーを保存】で好きなだけ弄れるようになるで

[+](旧バージョン)潜在的に危険な.ckptを安全な.safetensorsに変換するColab用Notebook
手順1. これをダウンロードする https://75.gigafile.nu/0330-c82660f0f62e26714f340e511377b763c
　パスワード=スレタイ英4文字
手順2. Google Driveを開く https://drive.google.com/drive/u/0/my-drive
　ログイン必須
手順3. ダウンロードしたものをGoogle Driveにドラッグ&ドロップしてダブルクリック
　後は中身を読めば分かるようになっている
[END]

* DCCツール

** openOutpaint
Web UI とは別に起動してアウトペイントするツール
- zero01101/openOutpaint: local offline javascript and html canvas outpainting gizmo for stable diffusion webUI API &#128032; - https://github.com/zero01101/openOutpaint
導入ガイドは以下を参照
- SBS Guided Example &#183; zero01101/openOutpaint Wiki - https://github.com/zero01101/openOutpaint/wiki/SBS-Guided-Example

* スクリプト

** fix_postion_ids.py: マージモデルの破損修復
マージされたモデルが破損する問題を修復するスクリプト。階層マージ拡張機能の作者製
こんな感じで調査したり、修復してモデルを出力できる。
https://files.catbox.moe/ez1pqp.webp
pytorch と safetensors.torch を pip で入れてないと動かない。os と argparse は Python の標準ライブラリ。

***コマンド例
調査
=|BSH|
python fix_position_ids.py --model E:\tool\sd\model_sd\need_fix\Elysium_Anime_V3.safetensors --verbose
||=
修復
=|BSH|
python fix_position_ids.py --model E:\tool\sd\model_sd\need_fix\Elysium_Anime_V3.safetensors --out E:\tool\sd\model_sd\need_fix\Elysium_Anime_V3_fix.safetensors
||=
ちなみにマージモデルの破損問題は、マージするときに float16 のチェックを入れてモデルを生成すると回避できるらしい。

** Config-Preset
- プリセット値の構成可能なドロップダウンを使用して、Web UI の txt2img タブと img2img タブの設定をすばやく変更｜Zyin055/Config-Presets: Script for Automatic1111 - [https://github.com/Zyin055/Config-Presets]

* プラグイン

** Krita
インストールは原則 Install Guide のとおりにやればいけるはず
- https://github.com/Interpause/auto-sd-paint-ext/wiki/Install-Guide 

以下は↑とほぼ同じことが書いてあるが、詳細なインストール方法については別記事を参照
※ AUTOMATIC Web UI がインストール済みであることを前提とする

[[auto-sd-paint-ext のインストール]]

** Photoshop

* 学習

**学習用タグの入力を速く楽にするやつ<最新>
https://uploader.cc/s/q62eid7t5ny492rd6hazwv1shqzy66zpu23h0oxlr8kpht34cc0wruck16qfhlk8.zip
=|BOX|
186 名前：今、天王星のwiki見てきたら軌道傾斜角(i) が0.774°だった (ﾜｯﾁｮｲ 3fe8-4osW)[sage] 投稿日：2023/02/10(金) 11:11:02.35 ID:qj344kaT0
tagger通さずに画像に対応した空のテキスト欲しかったから学習用タグの編集を速く楽にするやつにその機能付けたで
他は更新してないんでそんなんいらんて人は無視してや
https://i.imgur.com/dyatwXB.jpg
||=
